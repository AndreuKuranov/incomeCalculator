(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,n){e.exports={myModal:"Modal_myModal__2ME5Z",myModalContent:"Modal_myModalContent__3LkzC",active:"Modal_active__3zcdH"}},41:function(e,t,n){e.exports={myBtn:"Button_myBtn__2Nlkf"}},42:function(e,t,n){e.exports={mySelect:"Select_mySelect__1rqB9"}},45:function(e,t,n){e.exports={myInput:"Input_myInput__1U_yM"}},50:function(e,t,n){},51:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(33),i=n.n(s),r=n(3),l=(n(50),n(2)),o=n.n(l),u=(n(51),n(87)),d=n(24),m=n(35),j=n(37),b=n(16);d.a.use(m.a).use(j.a).use(b.e).init({backend:{loadPath:"".concat("/incomeCalculator","/locales/{{lng}}/{{ns}}.json")},fallbackLng:"ru",whitelist:["ru","en","de"],debug:!0,detection:{order:["localStorage","cookie"],caches:["localStorage","cookie"]},interpolation:{escapeValue:!1}});d.a;var p=n(0),v=function(e){var t=Object(u.a)().t;return Object(p.jsx)("div",{className:o()("header",e.className),children:Object(p.jsx)("div",{className:"header__container container",children:Object(p.jsx)("h1",{className:"header__title",children:t("calc.calculator")})})})},f=n(11),h=n(13),x=(n(59),n(22)),O=n.n(x),_=function(e){var t=e.children,n=e.visible,a=e.setVisible,c=[O.a.myModal];return n&&c.push(O.a.active),Object(p.jsx)("div",{className:o()(c),onClick:function(){return a(!1)},"aria-hidden":"true",role:"button",tabIndex:"0",children:Object(p.jsx)("div",{className:O.a.myModalContent,onClick:function(e){return e.stopPropagation()},"aria-hidden":"true",role:"button",tabIndex:"0",children:t})})},y=n(9),N=n(41),g=n.n(N),k=["children"],S=function(e){var t=e.children,n=Object(y.a)(e,k);return Object(p.jsx)("button",{className:o()(g.a.myBtn,n.className),type:n.type||"button",style:n.style,onClick:n.onClick,children:t})},w=n(42),I=n.n(w),C=["options","defaultValue","value","onChange"],E=function(e){var t=e.options,n=e.defaultValue,a=e.value,c=e.onChange,s=Object(y.a)(e,C);return Object(p.jsxs)("select",{className:o()(I.a.mySelect,s.className),value:a,onChange:function(e){return c(e.target.value)},children:[Object(p.jsx)("option",{value:"",children:n}),t.map((function(e){return Object(p.jsx)("option",{value:e.value,children:e.name},e.name)}))]})},M=function(){var e=Object(u.a)(),t=e.t,n=e.i18n;return Object(p.jsxs)("div",{className:"menu__row",children:[Object(p.jsx)("div",{className:"menu__icon",children:Object(p.jsx)("i",{className:"material-icons",children:"translate"})}),Object(p.jsx)(E,{className:"menu__select",defaultValue:t("calc.choose_language"),onChange:function(e){return t=e,void n.changeLanguage(t);var t},options:[{value:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{value:"en",name:"English"},{value:"de",name:"Deutsch"}]})]})},D=n(4),B=n.n(D),V=n(5),L=(n(61),n(43)),q=n(44),A=n(14),F=n.n(A),P=function(e){return(Math.abs(e)>999?"".concat(Math.sign(e)*(Math.abs(e)/1e3).toFixed(1),"k"):Math.sign(e)*Math.abs(e)).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},z=function(){return(new Date).toISOString().slice(0,16)},H=function(){function e(){Object(L.a)(this,e)}return Object(q.a)(e,null,[{key:"getAll",value:function(){var e=Object(V.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://localhost:3000/inquiry");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=Object(V.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://localhost:3000/inquiry/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteItem",value:function(){var e=Object(V.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("http://localhost:3000/inquiry/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"putItem",value:function(){var e=Object(V.a)(B.a.mark((function e(t,n,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.put("http://localhost:3000/inquiry/".concat(t),{incomes:n,expenses:a,name:z()});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"postItem",value:function(){var e=Object(V.a)(B.a.mark((function e(t,n,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("http://localhost:3000/inquiry",{incomes:t,expenses:n,name:z(),id:a});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),J=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),o=l[0],u=l[1],d=function(){var t=Object(V.a)(B.a.mark((function t(){var n=arguments;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(!0);case 9:return t.prev=9,s(!1),u(!1),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[0,6,9,13]])})));return function(){return t.apply(this,arguments)}}();return[d,c,o]},U=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=J(Object(V.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.getAll();case 2:n=t.sent,e.setListSave(n.map((function(e){return{name:e.name,value:e.id}})));case 4:case"end":return t.stop()}}),t)})))),l=Object(r.a)(i,3),o=l[0],u=l[1],d=l[2],m=J(Object(V.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.idSave.length>=7)){t.next=6;break}return t.next=3,H.getItem(e.idSave);case 3:n=t.sent,e.setDownloadsIncomes(n.incomes),e.setDownloadsExpenses(n.expenses);case 6:e.setIdSave("");case 7:case"end":return t.stop()}}),t)})))),j=Object(r.a)(m,3),b=j[0],v=j[1],f=j[2],h=J(Object(V.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.idSave.length>=7)){t.next=4;break}return t.next=3,H.deleteItem(e.idSave);case 3:e.deleteSave(e.idSave);case 4:e.setIdSave("");case 5:case"end":return t.stop()}}),t)})))),x=Object(r.a)(h,3),O=x[0],y=x[1],N=x[2];return Object(a.useEffect)((function(){o()}),[e.toUpdate]),Object(a.useEffect)((function(){(f||N)&&s(!0)}),[f,N]),Object(p.jsxs)("div",{children:[d?Object(p.jsx)("div",{children:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"}):Object(p.jsxs)("div",{className:"menu__row",children:[Object(p.jsx)(S,{className:"delete__button",type:"button",onClick:y?function(){}:function(){return O()},style:y?{opacity:"0.7"}:{},children:Object(p.jsx)("i",{className:"material-icons",children:"delete"})}),Object(p.jsx)(E,{defaultValue:u?"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",onChange:function(t){return e.setIdSave(t)},options:e.listSave}),Object(p.jsx)(S,{className:"download__button",type:"button",onClick:v?function(){}:function(){return b()},style:v?{opacity:"0.7"}:{},children:Object(p.jsx)("i",{className:"material-icons",children:"download"})})]}),Object(p.jsx)(_,{className:"menu__modal",visible:c,setVisible:s,children:Object(p.jsx)("div",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"})})]})},Y=function(e){for(var t=0;t<e.length;t+=1)if(e[t].name===z())return e[t].value},Z=function(e){for(var t=0;t<e.length;t+=1)if(e[t].name===z())return!0},G=function(e,t){return Object(h.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])}))[0].value},K=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=J(Object(V.a)(B.a.mark((function t(){var n,a,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.listSave.length>=5&&!0!==Z(e.listSave))){t.next=7;break}return n=G(e.listSave,"name"),t.next=4,H.putItem(n,e.saveIncomes,e.saveExpenses);case 4:e.updateListSave(n),t.next=17;break;case 7:if(!Z(e.listSave)){t.next=13;break}return a=Y(e.listSave),t.next=11,H.putItem(a,e.saveIncomes,e.saveExpenses);case 11:t.next=17;break;case 13:return c="inquiry".concat(Math.floor(1e5*Math.random())),t.next=16,H.postItem(e.saveIncomes,e.saveExpenses,c);case 16:e.newSave(c);case 17:case"end":return t.stop()}}),t)})))),l=Object(r.a)(i,3),o=l[0],u=l[1],d=l[2];return Object(a.useEffect)((function(){d&&s(!0)}),[d]),Object(p.jsxs)("div",{style:{padding:"0px 5px 0px 0px"},children:[Object(p.jsx)(S,{type:"button",onClick:u?function(){}:function(){return o()},style:u?{opacity:"0.7"}:{},children:Object(p.jsx)("i",{className:"material-icons",children:"save"})}),Object(p.jsx)(_,{className:"menu__modal",visible:c,setVisible:s,children:Object(p.jsx)("div",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"})})]})},Q=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)([]),l=Object(r.a)(i,2),u=l[0],d=l[1],m=Object(a.useState)(""),j=Object(r.a)(m,2),b=j[0],v=j[1];Object(a.useEffect)((function(){var e;e="name",d(Object(h.a)(u).sort((function(t,n){return t[e].localeCompare(n[e])})))}),[c,b]);return Object(p.jsx)("div",{className:o()("menu",e.className),children:Object(p.jsx)("div",{className:"menu__container container",children:Object(p.jsxs)("div",{className:"menu__settings",children:[Object(p.jsx)(K,{saveIncomes:e.saveIncomes,saveExpenses:e.saveExpenses,listSave:u,newSave:function(e){d([].concat(Object(h.a)(u),[{name:z(),value:e}]))},updateListSave:function(e){d(u.map((function(t){return t.value!==e?t:Object(f.a)(Object(f.a)({},t),{},{name:z()})})))}}),Object(p.jsx)(S,{type:"button",onClick:function(){return s(!0)},children:Object(p.jsx)("i",{className:"material-icons",children:"settings"})}),Object(p.jsxs)(_,{className:"menu__modal",visible:c,setVisible:s,children:[Object(p.jsx)(S,{className:"menu__button",type:"button",onClick:function(){return s(!1)},children:Object(p.jsx)("i",{className:"material-icons",children:"close"})}),Object(p.jsx)(M,{}),Object(p.jsx)(U,{deleteSave:function(e){d(u.filter((function(t){return t.value!==e})))},setDownloadsIncomes:e.setDownloadsIncomes,setDownloadsExpenses:e.setDownloadsExpenses,listSave:u,setListSave:d,idSave:b,setIdSave:v})]})]})})})},R=(n(80),function(e){var t=Object(u.a)().t;return Object(p.jsx)("div",{className:o()("percent",e.className),children:Object(p.jsx)("div",{className:"percent__container container",children:Object(p.jsx)("div",{className:"percent__body",children:Object(p.jsxs)("div",{className:"percent__column",children:[Object(p.jsx)("h3",{className:"percent__title text",children:t("calc.percent")}),Object(p.jsx)("div",{className:"percent__range",children:Object(p.jsx)("input",{className:"percent__input",type:"range",min:"0",max:"100",value:e.percent,onChange:function(t){return e.setPercent(t.target.value)}})}),Object(p.jsxs)("div",{className:"percent__text text",children:[e.percent," ","%"]})]})})})})}),T=(n(81),n(82),function(e){return Object(p.jsx)("div",{className:o()("column",e.className),children:Object(p.jsxs)("div",{className:"column__item",children:[Object(p.jsx)("div",{className:"column__icon",children:Object(p.jsx)("img",{className:"column__image",src:e.icon,alt:e.id})}),Object(p.jsx)("h3",{className:"column__title text",children:e.title}),Object(p.jsxs)("div",{className:"column__value text",children:[e.value," ",e.currency]})]})})}),W=n.p+"static/media/month.380103d5.png",X=n.p+"static/media/day.a31851ad.png",$=n.p+"static/media/money-box.3ebd1225.png",ee=function(e){var t,n,a=Object(u.a)().t,c=function(e,t){for(var n=0,a=0,c=0;c<e.length;c+=1)n+=e[c].value;for(var s=0;s<t.length;s+=1)a+=t[s].value;return(n-a).toFixed()}(e.sumIncomes,e.sumExpenses),s=(t=c,n=e.percent,((t-t*(n/100))/function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}()).toFixed()),i=function(e,t){return(e*(t/100)*12).toFixed()}(c,e.percent),r=[{id:"Month",icon:W,title:"calc.month",value:P(c)},{id:"Day",icon:X,title:"calc.day",value:P(s)},{id:"MoneyBox",icon:$,title:"calc.money_box",value:P(i)}];return Object(p.jsx)("div",{className:o()("sum",e.className),children:Object(p.jsx)("div",{className:"sum__container container",children:Object(p.jsx)("div",{className:"sum__body",children:r.map((function(e){return Object(p.jsx)(T,{className:"sum__column",icon:e.icon,title:a(e.title),value:e.value,id:e.id,currency:a("calc.currency")},e.id)}))})})})},te=(n(83),n(84),n(45)),ne=n.n(te),ae=function(e){return Object(p.jsx)("input",{className:o()(ne.a.myInput,e.className),"auto\u0441omplete":e.auto\u0441omplete,type:e.type,placeholder:e.placeholder,id:e.id,value:e.value,onChange:e.onChange})},ce=["onChange","onClick"],se=function(e){var t=e.onChange,n=e.onClick,a=Object(y.a)(e,ce),c=Object(u.a)().t;return Object(p.jsxs)("div",{className:o()("item",a.className),children:[Object(p.jsx)(ae,{className:"item__input","auto\u0441omplete":a.auto\u0441omplete,type:a.typeInput,placeholder:c(a.placeholder),id:a.id,value:0!==a.value?a.value:"",onChange:function(e){return t(a.id,e.target.value)}}),Object(p.jsx)(S,{className:"item__button",type:a.typeButton,onClick:function(){return n(a.item)},children:a.icon})]})},ie=["additional"],re=function(e){var t=e.additional,n=Object(y.a)(e,ie),a=Object(u.a)().t;return Object(p.jsxs)("div",{className:o()("block",n.className),children:[Object(p.jsx)("h2",{className:"block__title",children:n.title}),Object(p.jsxs)("form",{className:"block__form",children:[n.values.map((function(e){return Object(p.jsx)(se,{className:"block__item","auto\u0441omplete":"off",typeInput:"number",id:e.id,placeholder:e.placeholder,onChange:function(e,t){return function(e,t){n.set(n.values.map((function(n){return n.id!==e?n:Object(f.a)(Object(f.a)({},n),{},{value:+t})})))}(e,t)},value:e.value,typeButton:"button",icon:Object(p.jsx)("i",{className:"material-icons",children:"delete"}),onClick:function(){return function(e){n.set(n.values.filter((function(t){return t.id!==e.id})))}(e)}},e.id)})),Object(p.jsxs)("div",{className:"block__buttons",children:[Object(p.jsx)(S,{className:"block__button",type:"reset",onClick:function(){n.set(n.values.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:0})})))},children:a("calc.reset")}),Object(p.jsx)(S,{className:"block__button",type:"button",onClick:function(){n.set([].concat(Object(h.a)(n.values),[{id:Date.now(),placeholder:function(){for(var e=0;e<t.length;e+=1)if(t[e]===n.id)return t[e]}(),value:0}]))},children:a("calc.add_field")})]})]})]})},le=(n(85),function(e){var t=Object(u.a)().t,n=Object(a.useState)([{id:"income1",placeholder:"calc.salary",value:0},{id:"income2",placeholder:"calc.part-time_job",value:0},{id:"income3",placeholder:"calc.additional_income",value:0},{id:"income4",placeholder:"calc.additional_income",value:0}]),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)([{id:"expense1",placeholder:"calc.HCS",value:0},{id:"expense2",placeholder:"calc.mobile_connection",value:0},{id:"expense3",placeholder:"calc.home_internet",value:0},{id:"expense4",placeholder:"calc.credit",value:0}]),d=Object(r.a)(l,2),m=d[0],j=d[1],b=["calc.additional_income","calc.additional_expenses"];return Object(a.useEffect)((function(){e.setSumIncomes(s),e.setSumExpenses(m)}),[s,m]),Object(a.useEffect)((function(){Array.isArray(e.downloadsIncomes)&&Array.isArray(e.downloadsExpenses)&&(i(e.downloadsIncomes),j(e.downloadsExpenses))}),[e.downloadsIncomes,e.downloadsExpenses]),Object(p.jsx)("div",{className:o()("calc",e.className),children:Object(p.jsx)("div",{className:"calc__container container",children:Object(p.jsxs)("div",{className:"calc__body",children:[Object(p.jsx)(re,{className:"calc__block",title:t("calc.incomes"),values:s,set:i,id:"calc.additional_income",additional:b}),Object(p.jsx)(re,{className:"calc__block",title:t("calc.expenses"),values:m,set:j,id:"calc.additional_expenses",additional:b})]})})})});var oe=function(){var e=Object(a.useState)(0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(0),i=Object(r.a)(s,2),l=i[0],o=i[1],u=Object(a.useState)(0),d=Object(r.a)(u,2),m=d[0],j=d[1],b=Object(a.useState)(0),f=Object(r.a)(b,2),h=f[0],x=f[1],O=Object(a.useState)(0),_=Object(r.a)(O,2),y=_[0],N=_[1];return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(Q,{className:"main__menu",setDownloadsIncomes:c,setDownloadsExpenses:o,saveIncomes:m,saveExpenses:h}),Object(p.jsx)(v,{className:"main__header"}),Object(p.jsx)(le,{className:"main__calc",downloadsIncomes:n,downloadsExpenses:l,setSumIncomes:j,setSumExpenses:x}),Object(p.jsx)(ee,{className:"main__sum",sumIncomes:m,sumExpenses:h,percent:y}),Object(p.jsx)(R,{className:"main__percent",percent:y,setPercent:N})]})},ue=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("h1",{children:"Loading..."})})})};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(ue,{}),children:Object(p.jsx)(oe,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.c22ee260.chunk.js.map