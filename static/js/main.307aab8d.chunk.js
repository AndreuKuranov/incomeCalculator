(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports={myModal:"Modal_myModal__2ME5Z",myModalContent:"Modal_myModalContent__3LkzC",active:"Modal_active__3zcdH"}},40:function(e,t,n){e.exports={myBtn:"Button_myBtn__2Nlkf"}},41:function(e,t,n){e.exports={mySelect:"Select_mySelect__1rqB9"}},42:function(e,t,n){e.exports={myInput:"Input_myInput__1U_yM"}},48:function(e,t,n){},49:function(e,t,n){},57:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(32),l=n.n(s),o=n(3),i=(n(48),n(2)),r=n.n(i),u=(n(49),n(85)),d=n(23),m=n(34),j=n(36),b=n(14);d.a.use(m.a).use(j.a).use(b.e).init({backend:{loadPath:"".concat("/incomeCalculator","/locales/{{lng}}/{{ns}}.json")},fallbackLng:"ru",whitelist:["ru","en","de"],debug:!0,detection:{order:["localStorage","cookie"],caches:["localStorage","cookie"]},interpolation:{escapeValue:!1}});d.a;var p=n(0),h=function(e){var t=Object(u.a)().t;return Object(p.jsx)("div",{className:r()("header",e.className),children:Object(p.jsx)("div",{className:"header__container container",children:Object(p.jsx)("h1",{className:"header__title",children:t("calc.calculator")})})})},x=(n(57),n(21)),O=n.n(x),v=function(e){var t=e.children,n=e.visible,c=e.setVisible,a=[O.a.myModal];return n&&a.push(O.a.active),Object(p.jsx)("div",{className:r()(a),onClick:function(){return c(!1)},"aria-hidden":"true",role:"button",tabIndex:"0",children:Object(p.jsx)("div",{className:O.a.myModalContent,onClick:function(e){return e.stopPropagation()},"aria-hidden":"true",role:"button",tabIndex:"0",children:t})})},_=n(9),f=n(40),N=n.n(f),y=["children"],g=function(e){var t=e.children,n=Object(_.a)(e,y);return Object(p.jsx)("button",{className:r()(N.a.myBtn,n.className),type:n.type||"button",onClick:n.onClick,children:t})},k=n(41),w=n.n(k),C=["options","defaultValue","value","onChange"],S=function(e){var t=e.options,n=e.defaultValue,c=e.value,a=e.onChange,s=Object(_.a)(e,C);return Object(p.jsxs)("select",{className:r()(w.a.mySelect,s.className),value:c,onChange:function(e){return a(e.target.value)},children:[Object(p.jsx)("option",{value:"",children:n}),t.map((function(e){return Object(p.jsx)("option",{value:e.value,children:e.name},e.name)}))]})},I=function(){var e=Object(u.a)(),t=e.t,n=e.i18n;return Object(p.jsxs)("div",{className:"menu__row",children:[Object(p.jsx)("div",{className:"menu__icon",children:Object(p.jsx)("i",{className:"material-icons",children:"translate"})}),Object(p.jsx)(S,{className:"menu__select",defaultValue:t("calc.choose_language"),onChange:function(e){return t=e,void n.changeLanguage(t);var t},options:[{value:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{value:"en",name:"English"},{value:"de",name:"Deutsch"}]})]})},E=n(7),M=n.n(E),D=n(11),U=n(12),B=n.n(U),T=(n(77),function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(""),i=Object(o.a)(l,2),r=i[0],u=i[1];function d(){return(d=Object(D.a)(M.a.mark((function t(){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(16!==r.length){t.next=6;break}return t.next=3,B.a.get("http://localhost:3000/inquiry/".concat(r));case 3:n=t.sent,e.setDownloadsIncomes(n.data.incomes),e.setDownloadsExpenses(n.data.expenses);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=Object(D.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.delete("http://localhost:3000/inquiry/".concat(r));case 2:e.setToUpdate(-1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)(Object(D.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("http://localhost:3000/inquiry");case 2:t=e.sent,s(t.data.map((function(e){return{name:e.id,value:e.id}})));case 4:case"end":return e.stop()}}),e)}))),[e.toUpdate]),Object(p.jsxs)("div",{className:"menu__row",children:[Object(p.jsx)(g,{className:"delete__button",type:"button",onClick:function(){return function(){return m.apply(this,arguments)}()},children:Object(p.jsx)("i",{className:"material-icons",children:"delete"})}),Object(p.jsx)(S,{defaultValue:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",onChange:function(e){return u(e)},options:a}),Object(p.jsx)(g,{className:"download__button",type:"button",onClick:function(){return function(){return d.apply(this,arguments)}()},children:Object(p.jsx)("i",{className:"material-icons",children:"download"})})]})}),V=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1];return Object(p.jsx)("div",{className:r()("menu",e.className),children:Object(p.jsx)("div",{className:"menu__container container",children:Object(p.jsxs)("div",{className:"menu__settings",children:[Object(p.jsx)(g,{type:"button",onClick:function(){return s(!0)},children:Object(p.jsx)("i",{className:"material-icons",children:"settings"})}),Object(p.jsxs)(v,{className:"menu__modal",visible:a,setVisible:s,children:[Object(p.jsx)(g,{className:"menu__button",type:"button",onClick:function(){return s(!1)},children:Object(p.jsx)("i",{className:"material-icons",children:"close"})}),Object(p.jsx)(I,{}),Object(p.jsx)(T,{toUpdate:e.toUpdate,setToUpdate:e.setToUpdate,setDownloadsIncomes:e.setDownloadsIncomes,setDownloadsExpenses:e.setDownloadsExpenses})]})]})})})},q=(n(78),function(e){var t=Object(u.a)().t;return Object(p.jsx)("div",{className:r()("percent",e.className),children:Object(p.jsx)("div",{className:"percent__container container",children:Object(p.jsx)("div",{className:"percent__body",children:Object(p.jsxs)("div",{className:"percent__column",children:[Object(p.jsx)("h3",{className:"percent__title text",children:t("calc.percent")}),Object(p.jsx)("div",{className:"percent__range",children:Object(p.jsx)("input",{className:"percent__input",type:"range",min:"0",max:"100",value:e.percent,onChange:function(t){return e.setPercent(t.target.value)}})}),Object(p.jsxs)("div",{className:"percent__text text",children:[e.percent," ","%"]})]})})})})}),F=(n(79),n(80),function(e){return Object(p.jsx)("div",{className:r()("column",e.className),children:Object(p.jsxs)("div",{className:"column__item",children:[Object(p.jsx)("div",{className:"column__icon",children:Object(p.jsx)("img",{className:"column__image",src:e.icon,alt:"month"})}),Object(p.jsx)("h3",{className:"column__title text",children:e.title}),Object(p.jsxs)("div",{className:"column__value text",children:[e.value," ",e.currency]})]})})}),A=n.p+"static/media/month.380103d5.png",L=n.p+"static/media/day.a31851ad.png",P=n.p+"static/media/money-box.3ebd1225.png",z=function(e){return(Math.abs(e)>999?"".concat(Math.sign(e)*(Math.abs(e)/1e3).toFixed(1),"k"):Math.sign(e)*Math.abs(e)).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},H=function(e){var t,n,c=Object(u.a)().t,a=function(e,t){for(var n=0,c=0,a=0;a<e.length;a+=1)n+=e[a].value;for(var s=0;s<t.length;s+=1)c+=t[s].value;return(n-c).toFixed()}(e.sumIncomes,e.sumExpenses),s=(t=a,n=e.percent,((t-t*(n/100))/function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}()).toFixed()),l=function(e,t){return(e*(t/100)*12).toFixed()}(a,e.percent),o=[{id:"Month",icon:A,title:"calc.month",value:z(a)},{id:"Day",icon:L,title:"calc.day",value:z(s)},{id:"MoneyBox",icon:P,title:"calc.money_box",value:z(l)}];return Object(p.jsx)("div",{className:r()("sum",e.className),children:Object(p.jsx)("div",{className:"sum__container container",children:Object(p.jsx)("div",{className:"sum__body",children:o.map((function(e){return Object(p.jsx)(F,{className:"sum__column",icon:e.icon,title:c(e.title),value:e.value,currency:c("calc.currency")},e.id)}))})})})},J=n(43),Y=n(15),Z=(n(81),n(82),n(42)),G=n.n(Z),K=function(e){return Object(p.jsx)("input",{className:r()(G.a.myInput,e.className),"auto\u0441omplete":e.auto\u0441omplete,type:e.type,placeholder:e.placeholder,id:e.id,value:e.value,onChange:e.onChange})},Q=["onChange","onClick"],R=function(e){var t=e.onChange,n=e.onClick,c=Object(_.a)(e,Q),a=Object(u.a)().t;return Object(p.jsxs)("div",{className:r()("item",c.className),children:[Object(p.jsx)(K,{className:"item__input","auto\u0441omplete":c.auto\u0441omplete,type:c.typeInput,placeholder:a(c.placeholder),id:c.id,value:0!==c.value?c.value:"",onChange:function(e){return t(c.id,e.target.value)}}),Object(p.jsx)(g,{className:"item__button",type:c.typeButton,onClick:function(){return n(c.item)},children:c.icon})]})},W=["additional"],X=function(e){var t=e.additional,n=Object(_.a)(e,W),c=Object(u.a)().t;return Object(p.jsxs)("div",{className:r()("block",n.className),children:[Object(p.jsx)("h2",{className:"block__title",children:n.title}),Object(p.jsxs)("form",{className:"block__form",children:[n.values.map((function(e){return Object(p.jsx)(R,{className:"block__item","auto\u0441omplete":"off",typeInput:"number",id:e.id,placeholder:e.placeholder,onChange:function(e,t){return function(e,t){n.set(n.values.map((function(n){return n.id!==e?n:Object(Y.a)(Object(Y.a)({},n),{},{value:+t})})))}(e,t)},value:e.value,typeButton:"button",icon:Object(p.jsx)("i",{className:"material-icons",children:"delete"}),onClick:function(){return function(e){n.set(n.values.filter((function(t){return t.id!==e.id})))}(e)}},e.id)})),Object(p.jsxs)("div",{className:"block__buttons",children:[Object(p.jsx)(g,{className:"block__button",type:"reset",onClick:function(){n.set(n.values.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{value:0})})))},children:c("calc.reset")}),Object(p.jsx)(g,{className:"block__button",type:"button",onClick:function(){n.set([].concat(Object(J.a)(n.values),[{id:Date.now(),placeholder:function(){for(var e=0;e<t.length;e+=1)if(t[e]===n.id)return t[e]}(),value:0}]))},children:c("calc.add_field")})]})]})]})},$=(n(83),function(e){var t=Object(u.a)().t,n=Object(c.useState)([{id:"income1",placeholder:"calc.salary",value:0},{id:"income2",placeholder:"calc.part-time_job",value:0},{id:"income3",placeholder:"calc.additional_income",value:0},{id:"income4",placeholder:"calc.additional_income",value:0}]),a=Object(o.a)(n,2),s=a[0],l=a[1],i=Object(c.useState)([{id:"expense1",placeholder:"calc.HCS",value:0},{id:"expense2",placeholder:"calc.mobile_connection",value:0},{id:"expense3",placeholder:"calc.home_internet",value:0},{id:"expense4",placeholder:"calc.credit",value:0}]),d=Object(o.a)(i,2),m=d[0],j=d[1],b=["calc.additional_income","calc.additional_expenses"];return Object(c.useEffect)((function(){e.setSumIncomes(s),e.setSumExpenses(m)}),[s,m]),Object(c.useEffect)((function(){Array.isArray(e.downloadsIncomes)&&Array.isArray(e.downloadsExpenses)&&(l(e.downloadsIncomes),j(e.downloadsExpenses))}),[e.downloadsIncomes,e.downloadsExpenses]),Object(p.jsx)("div",{className:r()("calc",e.className),children:Object(p.jsx)("div",{className:"calc__container container",children:Object(p.jsxs)("div",{className:"calc__body",children:[Object(p.jsx)(X,{className:"calc__block",title:t("calc.incomes"),values:s,set:l,id:"calc.additional_income",additional:b}),Object(p.jsx)(X,{className:"calc__block",title:t("calc.expenses"),values:m,set:j,id:"calc.additional_expenses",additional:b})]})})})}),ee=function(e){var t=Object(u.a)().t;function n(){return(n=Object(D.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("http://localhost:3000/inquiry",{incomes:e.sumIncomes,expenses:e.sumExpenses,id:(new Date).toISOString().slice(0,16)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 2:e.setToUpdate(1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(g,{type:"button",onClick:function(){return function(){return n.apply(this,arguments)}()},children:t("calc.save")})})})},te=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(0),i=Object(o.a)(l,2),r=i[0],u=i[1],d=Object(c.useState)(0),m=Object(o.a)(d,2),j=m[0],b=m[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)($,{className:"main__calc",downloadsIncomes:e.downloadsIncomes,downloadsExpenses:e.downloadsExpenses,setSumIncomes:s,setSumExpenses:u}),Object(p.jsx)(H,{className:"main__sum",sumIncomes:a,sumExpenses:r,percent:j}),Object(p.jsx)(q,{className:"main__percent",percent:j,setPercent:b}),Object(p.jsx)(ee,{sumIncomes:a,sumExpenses:r,setToUpdate:e.setToUpdate})]})};var ne=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),l=Object(o.a)(s,2),i=l[0],r=l[1],u=Object(c.useState)(5),d=Object(o.a)(u,2),m=d[0],j=d[1];return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(V,{className:"main__menu",setDownloadsIncomes:a,setDownloadsExpenses:r,toUpdate:m,setToUpdate:j}),Object(p.jsx)(h,{className:"main__header"}),Object(p.jsx)(te,{downloadsIncomes:n,downloadsExpenses:i,setToUpdate:j})]})},ce=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("h1",{children:"Loading..."})})})};l.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)(ce,{}),children:Object(p.jsx)(ne,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.307aab8d.chunk.js.map